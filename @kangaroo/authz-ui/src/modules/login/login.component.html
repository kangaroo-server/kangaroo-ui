<!--
  ~ Copyright (c) 2018 Michael Krotscheck
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License"); you may not
  ~ use this file except in compliance with the License. You may obtain a copy
  ~ of the License at
  ~
  ~ http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
  ~ WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->
<div class="content-area">
    <h1>Login</h1>
    <form #loginForm="ngForm">
        <section class="form-block">
            <div class="form-group">
                <label for="username_input">Username</label>
                <label for="username_input"
                       role="tooltip"
                       class="tooltip tooltip-validation tooltip-md"
                       [class.invalid]="usernameModel.invalid && (usernameModel.dirty || usernameModel.touched)">
                    <input id="username_input"
                           #usernameInput
                           name="username_input"
                           type="text"
                           size="50"
                           [(ngModel)]="username"
                           (keyup.enter)="loginForm.valid && login()"
                           #usernameModel="ngModel"
                           [disabled]="loading"
                           required>
                    <span class="tooltip-content">
                    Username is required.
                </span>
                </label>
            </div>
            <div class="form-group">
                <label for="password_input">Password</label>
                <label for="password_input"
                       role="tooltip"
                       class="tooltip tooltip-validation tooltip-md"
                       [class.invalid]="passwordInput.invalid && (passwordInput.dirty || passwordInput.touched)">
                    <input id="password_input"
                           name="password_input"
                           type="text"
                           size="50"
                           [(ngModel)]="password"
                           #passwordInput="ngModel"
                           (keyup.enter)="loginForm.valid && login()"
                           [disabled]="loading"
                           required>
                    <span class="tooltip-content">
                    Password is required.
                </span>
                </label>
            </div>
            <div class="form-group">
                <button id="login_button"
                        type="button"
                        [disabled]="loginForm.invalid || loading"
                        class="btn btn-primary"
                        (click)="login()">
                    Login
                </button>
            </div>
            <div class="form-group" *ngIf="errored">
                <div id="error_message" class="alert alert-danger">
                    <div class="alert-items">
                        <div class="alert-item text-center">Your login credentials are incorrect. Please try again.
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </form>
</div>
